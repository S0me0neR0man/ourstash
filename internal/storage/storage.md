# NoSQL in-memory БД
Данные хранятся в виде `ключ`-`значение` </br>
Уровнем выше следующая логическая структура:
- БД состоит из изолированных секций (`section`), секция 0 - метаданные
- Каждая запись (`record`) имеет уникальный, в контексте секции, ключ > 0
- Запись состоит из произвольного набора юнитов (`unit`)
- Юнит из произвольного набора полей, значение поля имеет тип `any`

## Key
```
const KeyLength = 32
type Key [keyLength]byte
```

| section</br> [0] </br> | record</br> [1:9] | unit</br> [9:11] | field</br> [11:13] | reserved </br> [13:32] |                                                    |
|:-----------------------|-------------------|------------------|--------------------|------------------------|----------------------------------------------------|
| N                      | 0x00000000        | 0x0000           | 0x0000             |                        | id последнего ключа записи (автоинкремент, id > 0) |

## Метаданные
### Юниты
Каждый юнит при первом появлении регистрируется в метаданных</br>
Данные о зарегистрированных юнитах хранятся в section = 0x0, unit = 0x0000

| section | record | unit   | field  | значение                                                                          |
|:--------|--------|--------|--------|-----------------------------------------------------------------------------------|
| 0x0     | N      | 0x0000 | 0x0000 | `UnitIdType`</br> id последнего зарегистрированного юнита (автоинкремент, id > 0) |
| 0x0     | N      | N_unit | 0x0000 | `string` текстовой идентификатор юнита                                            |

## TODO:

1. Индексы: итераторы, поиск