# NoSQL in-memory БД
Данные хранятся в виде `ключ`-`значение` </br>
Уровнем выше следующая логическая структура:
- БД состоит из секций (далекая аналогия - таблицы реляционной БД), секция 0 системная
- В каждой секции множество записей (ид записи - автоинкремент `uint64`). Нулевая запись системная.
- Для каждой записи хранится история изменений (при создании генерируется guid, update создает новую запись с тем же
guid, старая запись помечается как удаленная + в заголовке сохраняется ид новой записи)
- Запись состоит из произвольного набора полей. Пользовательский идентификатор поля `string`, внутренний ид `uint16`.
Внутренние идентификаторы создаются один раз и никогда не изменяются.
- Для быстрого поиска реализовано `redBlackTree`. Публичные методы потокобезопасные. 

## Хранение данных
```
const KeyLength = 16
type Key [keyLength]byte
```

| секция</br> [0:1] </br> | запись</br> [1:9] | поле</br> [9:11] | значение                                    |
|:------------------------|:------------------|:-----------------|:--------------------------------------------|
| N                       | 0x00000000        | 0x0000           | автоинкремент id                            |
| 0x00                    | 0x00000001        | > 0              | user + private key                          |
| N                       | 0x00000000        | > 0              | строка, пользовательский идентификатор поля |
| N                       | M                 | 0x0000           | `recordHeader`                              |
| N                       | M                 | R                | значение поля                               |

## Метаданные

## TODO:

1. Индексы: итераторы, поиск